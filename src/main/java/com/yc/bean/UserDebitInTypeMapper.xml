<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yc.bean.UserDebitInTypeMapper">
	<!--加入带日志的ehcache缓存 -->
	<cache type="org.mybatis.caches.ehcache.LoggingEhcache"></cache>
	
	<select id="findAllUserDebitInType" resultType="UserDebitInType">
		select udit_id,udit_name,udit_profit,udit_month from UserDebitInType where udit_status = 1 and udit_name = 'U计划' 
	</select>
	
	<!-- 得到所有的借贷类型   用于添加借贷信息中的选择框按钮 -->
	<select id="getAllUserDebitInType" resultType="UserDebitInType">
		select udit_id,udit_name,udit_profit,udit_month from UserDebitInType
	</select>
		
	
	    <!-- 添加借贷类型 -->
      <insert id="addUserDebitInType" parameterType="UserDebitInType" useGeneratedKeys="true" keyProperty="udit_id">
    	insert into UserDebitInType(udit_name,udit_profit,udit_month) values(#{udit_name},
    	#{udit_profit},#{udit_month})
    </insert>   
    
    <!-- 添加U计划借贷类型 -->
	  <insert id="addNewUplanType" parameterType="UserDebitInType" useGeneratedKeys="true" keyProperty="udit_id">
    	insert into UserDebitInType(udit_name,udit_profit,udit_month) values(#{udit_name},#{udit_profit},#{udit_month})
    </insert>   
    
    <!-- 删除U计划借贷类型 -->
    <delete id="delUplanTypeManagerInfo" parameterType="UserDebitInType">
    	delete from UserDebitInType where udit_id=#{udit_id} 
    </delete>
    
    <!-- 修改U计划借贷类型 -->
		<update id="updateNewUplanTypeManagerInfo" parameterType="UserDebitInType">
		update UserDebitIn,UserDebitInType set
		  udit_name=#{udit_name},udit_profit=#{udit_profit},udit_status=#{udit_status},udit_month=#{udit_month}
		where  UserDebitInType.udit_id=UserDebitIn.udi_type and UserDebitIn.udi_type=#{udi_type} 
	</update>
	
</mapper>